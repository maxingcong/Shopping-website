var DateFormatter;!function(){"use strict";var e,t,n,o,a,r;a=864e5,r=3600,e=function(e,t){return"string"==typeof e&&"string"==typeof t&&e.toLowerCase()===t.toLowerCase()},t=function(e,n,o){var a=o||"0",r=e.toString();return r.length<n?t(a+r,n):r},n=function(e){var t,o;for(e=e||{},t=1;t<arguments.length;t++)if(o=arguments[t])for(var a in o)o.hasOwnProperty(a)&&("object"==typeof o[a]?n(e[a],o[a]):e[a]=o[a]);return e},o={dateSettings:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["AM","PM"],ordinal:function(e){var t=e%10,n={1:"st",2:"nd",3:"rd"};return 1!==Math.floor(e%100/10)&&n[t]?n[t]:"th"}},separators:/[ \-+\/\.T:@]/g,validParts:/[dDjlNSwzWFmMntLoYyaABgGhHisueTIOPZcrU]/g,intParts:/[djwNzmnyYhHgGis]/g,tzParts:/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,tzClip:/[^-+\dA-Z]/g},DateFormatter=function(e){var t=this,a=n(o,e);t.dateSettings=a.dateSettings,t.separators=a.separators,t.validParts=a.validParts,t.intParts=a.intParts,t.tzParts=a.tzParts,t.tzClip=a.tzClip},DateFormatter.prototype={constructor:DateFormatter,parseDate:function(t,n){var o,a,r,i,s,d,l,u,c,f,h=this,m=!1,g=!1,p=h.dateSettings,x={date:null,year:null,month:null,day:null,hour:0,min:0,sec:0};if(!t)return void 0;if(t instanceof Date)return t;if("number"==typeof t)return new Date(t);if("U"===n)return r=parseInt(t),r?new Date(1e3*r):t;if("string"!=typeof t)return"";if(o=n.match(h.validParts),!o||0===o.length)throw new Error("Invalid date format definition.");for(a=t.replace(h.separators,"\x00").split("\x00"),r=0;r<a.length;r++)switch(i=a[r],s=parseInt(i),o[r]){case"y":case"Y":c=i.length,2===c?x.year=parseInt((70>s?"20":"19")+i):4===c&&(x.year=s),m=!0;break;case"m":case"n":case"M":case"F":isNaN(i)?(d=p.monthsShort.indexOf(i),d>-1&&(x.month=d+1),d=p.months.indexOf(i),d>-1&&(x.month=d+1)):s>=1&&12>=s&&(x.month=s),m=!0;break;case"d":case"j":s>=1&&31>=s&&(x.day=s),m=!0;break;case"g":case"h":l=o.indexOf("a")>-1?o.indexOf("a"):o.indexOf("A")>-1?o.indexOf("A"):-1,f=a[l],l>-1?(u=e(f,p.meridiem[0])?0:e(f,p.meridiem[1])?12:-1,s>=1&&12>=s&&u>-1?x.hour=s+u-1:s>=0&&23>=s&&(x.hour=s)):s>=0&&23>=s&&(x.hour=s),g=!0;break;case"G":case"H":s>=0&&23>=s&&(x.hour=s),g=!0;break;case"i":s>=0&&59>=s&&(x.min=s),g=!0;break;case"s":s>=0&&59>=s&&(x.sec=s),g=!0}if(m===!0&&x.year&&x.month&&x.day)x.date=new Date(x.year,x.month-1,x.day,x.hour,x.min,x.sec,0);else{if(g!==!0)return!1;x.date=new Date(0,0,0,x.hour,x.min,x.sec,0)}return x.date},guessDate:function(e,t){if("string"!=typeof e)return e;var n,o,a,r,i=this,s=e.replace(i.separators,"\x00").split("\x00"),d=/^[djmn]/g,l=t.match(i.validParts),u=new Date,c=0;if(!d.test(l[0]))return e;for(o=0;o<s.length;o++){switch(c=2,a=s[o],r=parseInt(a.substr(0,2)),o){case 0:"m"===l[0]||"n"===l[0]?u.setMonth(r-1):u.setDate(r);break;case 1:"m"===l[0]||"n"===l[0]?u.setDate(r):u.setMonth(r-1);break;case 2:n=u.getFullYear(),a.length<4?(u.setFullYear(parseInt(n.toString().substr(0,4-a.length)+a)),c=a.length):(u.setFullYear=parseInt(a.substr(0,4)),c=4);break;case 3:u.setHours(r);break;case 4:u.setMinutes(r);break;case 5:u.setSeconds(r)}a.substr(c).length>0&&s.splice(o+1,0,a.substr(c))}return u},parseFormat:function(e,n){var o,i=this,s=i.dateSettings,d=/\\?(.?)/gi,l=function(e,t){return o[e]?o[e]():t};return o={d:function(){return t(o.j(),2)},D:function(){return s.daysShort[o.w()]},j:function(){return n.getDate()},l:function(){return s.days[o.w()]},N:function(){return o.w()||7},w:function(){return n.getDay()},z:function(){var e=new Date(o.Y(),o.n()-1,o.j()),t=new Date(o.Y(),0,1);return Math.round((e-t)/a)},W:function(){var e=new Date(o.Y(),o.n()-1,o.j()-o.N()+3),n=new Date(e.getFullYear(),0,4);return t(1+Math.round((e-n)/a/7),2)},F:function(){return s.months[n.getMonth()]},m:function(){return t(o.n(),2)},M:function(){return s.monthsShort[n.getMonth()]},n:function(){return n.getMonth()+1},t:function(){return new Date(o.Y(),o.n(),0).getDate()},L:function(){var e=o.Y();return e%4===0&&e%100!==0||e%400===0?1:0},o:function(){var e=o.n(),t=o.W(),n=o.Y();return n+(12===e&&9>t?1:1===e&&t>9?-1:0)},Y:function(){return n.getFullYear()},y:function(){return o.Y().toString().slice(-2)},a:function(){return o.A().toLowerCase()},A:function(){var e=o.G()<12?0:1;return s.meridiem[e]},B:function(){var e=n.getUTCHours()*r,o=60*n.getUTCMinutes(),a=n.getUTCSeconds();return t(Math.floor((e+o+a+r)/86.4)%1e3,3)},g:function(){return o.G()%12||12},G:function(){return n.getHours()},h:function(){return t(o.g(),2)},H:function(){return t(o.G(),2)},i:function(){return t(n.getMinutes(),2)},s:function(){return t(n.getSeconds(),2)},u:function(){return t(1e3*n.getMilliseconds(),6)},e:function(){var e=/\((.*)\)/.exec(String(n))[1];return e||"Coordinated Universal Time"},T:function(){var e=(String(n).match(i.tzParts)||[""]).pop().replace(i.tzClip,"");return e||"UTC"},I:function(){var e=new Date(o.Y(),0),t=Date.UTC(o.Y(),0),n=new Date(o.Y(),6),a=Date.UTC(o.Y(),6);return e-t!==n-a?1:0},O:function(){var e=n.getTimezoneOffset(),o=Math.abs(e);return(e>0?"-":"+")+t(100*Math.floor(o/60)+o%60,4)},P:function(){var e=o.O();return e.substr(0,3)+":"+e.substr(3,2)},Z:function(){return 60*-n.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(d,l)},r:function(){return"D, d M Y H:i:s O".replace(d,l)},U:function(){return n.getTime()/1e3||0}},l(e,e)},formatDate:function(e,t){var n,o,a,r,i,s=this,d="";if("string"==typeof e&&(e=s.parseDate(e,t),e===!1))return!1;if(e instanceof Date){for(a=t.length,n=0;a>n;n++)i=t.charAt(n),"S"!==i&&(r=s.parseFormat(i,e),n!==a-1&&s.intParts.test(i)&&"S"===t.charAt(n+1)&&(o=parseInt(r),r+=s.dateSettings.ordinal(o)),d+=r);return d}return""}}}(),function(e){"function"==typeof define&&define.amd?define(["jquery","jquery-mousewheel","date-functions"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){"use strict";function t(e,t,n){this.date=e,this.desc=t,this.style=n}var n={i18n:{en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"]},zh:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},"zh-TW":{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]}},value:"",rtl:!1,format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnTimeSelect:!0,closeOnWithoutClick:!0,closeOnInputClick:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,disabledMinTime:!1,disabledMaxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,prevButton:!0,nextButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,monthStart:0,monthEnd:11,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],highlightedDates:[],highlightedPeriods:[],disabledDates:[],disabledWeekDays:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0,showApplyButton:!1},o=null,a="zh",r="zh",i={meridiem:["上午","下午"]},s=function(){var t=n.i18n[r],a={days:t.dayOfWeek,daysShort:t.dayOfWeekShort,months:t.months,monthsShort:e.map(t.months,function(e){return e.substring(0,3)})};o=new DateFormatter({dateSettings:e.extend({},i,a)})};e.datetimepicker={setLocale:function(e){var t=n.i18n[e]?e:a;r!=t&&(r=t,s())},RFC_2822:"D, d M Y H:i:s O",ATOM:"Y-m-dTH:i:sP",ISO_8601:"Y-m-dTH:i:sO",RFC_822:"D, d M y H:i:s O",RFC_850:"l, d-M-y H:i:s T",RFC_1036:"D, d M y H:i:s O",RFC_1123:"D, d M Y H:i:s O",RSS:"D, d M Y H:i:s O",W3C:"Y-m-dTH:i:sP"},s(),window.getComputedStyle||(window.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;return"float"===t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,function(e,t,n){return n.toUpperCase()})),e.currentStyle[t]||null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n,o;for(n=t||0,o=this.length;o>n;n+=1)if(this[n]===e)return n;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},e.fn.xdsoftScroller=function(t){return this.each(function(){var n,o,a,r,i,s=e(this),d=function(e){var t,n={x:0,y:0};return"touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type||"touchcancel"===e.type?(t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],n.x=t.clientX,n.y=t.clientY):("mousedown"===e.type||"mouseup"===e.type||"mousemove"===e.type||"mouseover"===e.type||"mouseout"===e.type||"mouseenter"===e.type||"mouseleave"===e.type)&&(n.x=e.clientX,n.y=e.clientY),n},l=100,u=!1,c=0,f=0,h=0,m=!1,g=0,p=function(){};return"hide"===t?void s.find(".xdsoft_scrollbar").hide():(e(this).hasClass("xdsoft_scroller_box")||(n=s.children().eq(0),o=s[0].clientHeight,a=n[0].offsetHeight,r=e('<div class="xdsoft_scrollbar"></div>'),i=e('<div class="xdsoft_scroller"></div>'),r.append(i),s.addClass("xdsoft_scroller_box").append(r),p=function(e){var t=d(e).y-c+g;0>t&&(t=0),t+i[0].offsetHeight>h&&(t=h-i[0].offsetHeight),s.trigger("scroll_element.xdsoft_scroller",[l?t/l:0])},i.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",function(n){o||s.trigger("resize_scroll.xdsoft_scroller",[t]),c=d(n).y,g=parseInt(i.css("margin-top"),10),h=r[0].offsetHeight,"mousedown"===n.type||"touchstart"===n.type?(document&&e(document.body).addClass("xdsoft_noselect"),e([document.body,window]).on("touchend mouseup.xdsoft_scroller",function a(){e([document.body,window]).off("touchend mouseup.xdsoft_scroller",a).off("mousemove.xdsoft_scroller",p).removeClass("xdsoft_noselect")}),e(document.body).on("mousemove.xdsoft_scroller",p)):(m=!0,n.stopPropagation(),n.preventDefault())}).on("touchmove",function(e){m&&(e.preventDefault(),p(e))}).on("touchend touchcancel",function(e){m=!1,g=0}),s.on("scroll_element.xdsoft_scroller",function(e,t){o||s.trigger("resize_scroll.xdsoft_scroller",[t,!0]),t=t>1?1:0>t||isNaN(t)?0:t,i.css("margin-top",l*t),setTimeout(function(){n.css("marginTop",-parseInt((n[0].offsetHeight-o)*t,10))},10)}).on("resize_scroll.xdsoft_scroller",function(e,t,d){var u,c;o=s[0].clientHeight,a=n[0].offsetHeight,u=o/a,c=u*r[0].offsetHeight,u>1?i.hide():(i.show(),i.css("height",parseInt(c>10?c:10,10)),l=r[0].offsetHeight-i[0].offsetHeight,d!==!0&&s.trigger("scroll_element.xdsoft_scroller",[t||Math.abs(parseInt(n.css("marginTop"),10))/(a-o)]))}),s.on("mousewheel",function(e){var t=Math.abs(parseInt(n.css("marginTop"),10));return t-=20*e.deltaY,0>t&&(t=0),s.trigger("scroll_element.xdsoft_scroller",[t/(a-o)]),e.stopPropagation(),!1}),s.on("touchstart",function(e){u=d(e),f=Math.abs(parseInt(n.css("marginTop"),10))}),s.on("touchmove",function(e){if(u){e.preventDefault();var t=d(e);s.trigger("scroll_element.xdsoft_scroller",[(f-(t.y-u.y))/(a-o)])}}),s.on("touchend touchcancel",function(e){u=!1,f=0})),void s.trigger("resize_scroll.xdsoft_scroller",[t]))})},e.fn.datetimepicker=function(a){var i,s,d=48,l=57,u=96,c=105,f=17,h=46,m=13,g=27,p=8,x=37,v=38,D=39,y=40,T=9,w=116,b=65,_=67,k=86,M=90,S=89,C=!1,O=e.isPlainObject(a)||!a?e.extend(!0,{},n,a):e.extend(!0,{},n),Y=0,F=function(e){e.on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function t(n){e.is(":disabled")||e.data("xdsoft_datetimepicker")||(clearTimeout(Y),Y=setTimeout(function(){e.data("xdsoft_datetimepicker")||i(e),e.off("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",t).trigger("open.xdsoft")},100))})};return i=function(n){function i(){var e,t=!1;return O.startDate?t=P.strToDate(O.startDate):(t=O.value||(n&&n.val&&n.val()?n.val():""),t?t=P.strToDateTime(t):O.defaultDate&&(t=P.strToDateTime(O.defaultDate),O.defaultTime&&(e=P.strtotime(O.defaultTime),t.setHours(e.getHours()),t.setMinutes(e.getMinutes())))),t&&P.isValidDate(t)?W.data("changed",!0):t="",t||0}var s,Y,F,H,I,P,W=e('<div class="xdsoft_datetimepicker xdsoft_noselect"></div>'),A=e('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),z=e('<div class="xdsoft_datepicker active"></div>'),j=e('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),B=e('<div class="xdsoft_calendar"></div>'),N=e('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),L=N.find(".xdsoft_time_box").eq(0),R=e('<div class="xdsoft_time_variant"></div>'),q=e('<button type="button" class="xdsoft_save_selected blue-gradient-button">Save Selected</button>'),E=e('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),V=e('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),G=!1,U=0,X=0;O.id&&W.attr("id",O.id),O.style&&W.attr("style",O.style),O.weeks&&W.addClass("xdsoft_showweeks"),O.rtl&&W.addClass("xdsoft_rtl"),W.addClass("xdsoft_"+O.theme),W.addClass(O.className),j.find(".xdsoft_month span").after(E),j.find(".xdsoft_year span").after(V),j.find(".xdsoft_month,.xdsoft_year").on("touchstart mousedown.xdsoft",function(t){var n,o,a=e(this).find(".xdsoft_select").eq(0),r=0,i=0,s=a.is(":visible");for(j.find(".xdsoft_select").hide(),P.currentTime&&(r=P.currentTime[e(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),a[s?"hide":"show"](),n=a.find("div.xdsoft_option"),o=0;o<n.length&&n.eq(o).data("value")!==r;o+=1)i+=n[0].offsetHeight;return a.xdsoftScroller(i/(a.children()[0].offsetHeight-a[0].clientHeight)),t.stopPropagation(),!1}),j.find(".xdsoft_select").xdsoftScroller().on("touchstart mousedown.xdsoft",function(e){e.stopPropagation(),e.preventDefault()}).on("touchstart mousedown.xdsoft",".xdsoft_option",function(t){(void 0===P.currentTime||null===P.currentTime)&&(P.currentTime=P.now());var n=P.currentTime.getFullYear();P&&P.currentTime&&P.currentTime[e(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](e(this).data("value")),e(this).parent().parent().hide(),W.trigger("xchange.xdsoft"),O.onChangeMonth&&e.isFunction(O.onChangeMonth)&&O.onChangeMonth.call(W,P.currentTime,W.data("input")),n!==P.currentTime.getFullYear()&&e.isFunction(O.onChangeYear)&&O.onChangeYear.call(W,P.currentTime,W.data("input"))}),W.setOptions=function(a){var r={},i=function(e){try{if(document.selection&&document.selection.createRange){var t=document.selection.createRange();return t.getBookmark().charCodeAt(2)-2}if(e.setSelectionRange)return e.selectionStart}catch(n){return 0}},s=function(e,t){if(e="string"==typeof e||e instanceof String?document.getElementById(e):e,!e)return!1;if(e.createTextRange){var n=e.createTextRange();return n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select(),!0}return e.setSelectionRange?(e.setSelectionRange(t,t),!0):!1},Y=function(e,t){var n=e.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(n).test(t)};O=e.extend(!0,{},O,a),a.allowTimes&&e.isArray(a.allowTimes)&&a.allowTimes.length&&(O.allowTimes=e.extend(!0,[],a.allowTimes)),a.weekends&&e.isArray(a.weekends)&&a.weekends.length&&(O.weekends=e.extend(!0,[],a.weekends)),a.highlightedDates&&e.isArray(a.highlightedDates)&&a.highlightedDates.length&&(e.each(a.highlightedDates,function(n,a){var i,s=e.map(a.split(","),e.trim),d=new t(o.parseDate(s[0],O.formatDate),s[1],s[2]),l=o.formatDate(d.date,O.formatDate);void 0!==r[l]?(i=r[l].desc,i&&i.length&&d.desc&&d.desc.length&&(r[l].desc=i+"\n"+d.desc)):r[l]=d}),O.highlightedDates=e.extend(!0,[],r)),a.highlightedPeriods&&e.isArray(a.highlightedPeriods)&&a.highlightedPeriods.length&&(r=e.extend(!0,[],O.highlightedDates),e.each(a.highlightedPeriods,function(n,a){var i,s,d,l,u,c,f;if(e.isArray(a))i=a[0],s=a[1],d=a[2],f=a[3];else{var h=e.map(a.split(","),e.trim);i=o.parseDate(h[0],O.formatDate),s=o.parseDate(h[1],O.formatDate),d=h[2],f=h[3]}for(;s>=i;)l=new t(i,d,f),u=o.formatDate(i,O.formatDate),i.setDate(i.getDate()+1),void 0!==r[u]?(c=r[u].desc,c&&c.length&&l.desc&&l.desc.length&&(r[u].desc=c+"\n"+l.desc)):r[u]=l}),O.highlightedDates=e.extend(!0,[],r)),a.disabledDates&&e.isArray(a.disabledDates)&&a.disabledDates.length&&(O.disabledDates=e.extend(!0,[],a.disabledDates)),a.disabledWeekDays&&e.isArray(a.disabledWeekDays)&&a.disabledWeekDays.length&&(O.disabledWeekDays=e.extend(!0,[],a.disabledWeekDays)),!O.open&&!O.opened||O.inline||n.trigger("open.xdsoft"),O.inline&&(G=!0,W.addClass("xdsoft_inline"),n.after(W).hide()),O.inverseButton&&(O.next="xdsoft_prev",O.prev="xdsoft_next"),O.datepicker?z.addClass("active"):z.removeClass("active"),O.timepicker?N.addClass("active"):N.removeClass("active"),O.value&&(P.setCurrentTime(O.value),n&&n.val&&n.val(P.str)),isNaN(O.dayOfWeekStart)?O.dayOfWeekStart=0:O.dayOfWeekStart=parseInt(O.dayOfWeekStart,10)%7,O.timepickerScrollbar||L.xdsoftScroller("hide"),O.minDate&&/^[\+\-](.*)$/.test(O.minDate)&&(O.minDate=o.formatDate(P.strToDateTime(O.minDate),O.formatDate)),O.maxDate&&/^[\+\-](.*)$/.test(O.maxDate)&&(O.maxDate=o.formatDate(P.strToDateTime(O.maxDate),O.formatDate)),q.toggle(O.showApplyButton),j.find(".xdsoft_today_button").css("visibility",O.todayButton?"visible":"hidden"),j.find("."+O.prev).css("visibility",O.prevButton?"visible":"hidden"),j.find("."+O.next).css("visibility",O.nextButton?"visible":"hidden"),O.mask&&(n.off("keydown.xdsoft"),O.mask===!0&&(O.mask=O.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===e.type(O.mask)&&(Y(O.mask,n.val())||(n.val(O.mask.replace(/[0-9]/g,"_")),s(n[0],0)),n.on("keydown.xdsoft",function(t){var o,a,r=this.value,F=t.which;if(F>=d&&l>=F||F>=u&&c>=F||F===p||F===h){for(o=i(this),a=F!==p&&F!==h?String.fromCharCode(F>=u&&c>=F?F-d:F):"_",F!==p&&F!==h||!o||(o-=1,a="_");/[^0-9_]/.test(O.mask.substr(o,1))&&o<O.mask.length&&o>0;)o+=F===p||F===h?-1:1;if(r=r.substr(0,o)+a+r.substr(o+1),""===e.trim(r))r=O.mask.replace(/[0-9]/g,"_");else if(o===O.mask.length)return t.preventDefault(),!1;for(o+=F===p||F===h?0:1;/[^0-9_]/.test(O.mask.substr(o,1))&&o<O.mask.length&&o>0;)o+=F===p||F===h?-1:1;Y(O.mask,r)?(this.value=r,s(this,o)):""===e.trim(r)?this.value=O.mask.replace(/[0-9]/g,"_"):n.trigger("error_input.xdsoft")}else if(-1!==[b,_,k,M,S].indexOf(F)&&C||-1!==[g,v,y,x,D,w,f,T,m].indexOf(F))return!0;return t.preventDefault(),!1}))),O.validateOnBlur&&n.off("blur.xdsoft").on("blur.xdsoft",function(){if(O.allowBlank&&!e.trim(e(this).val()).length)e(this).val(null),W.data("xdsoft_datetime").empty();else if(o.parseDate(e(this).val(),O.format))W.data("xdsoft_datetime").setCurrentTime(e(this).val());else{var t=+[e(this).val()[0],e(this).val()[1]].join(""),n=+[e(this).val()[2],e(this).val()[3]].join("");!O.datepicker&&O.timepicker&&t>=0&&24>t&&n>=0&&60>n?e(this).val([t,n].map(function(e){return e>9?e:"0"+e}).join(":")):e(this).val(o.formatDate(P.now(),O.format)),W.data("xdsoft_datetime").setCurrentTime(e(this).val())}W.trigger("changedatetime.xdsoft")}),O.dayOfWeekStartPrev=0===O.dayOfWeekStart?6:O.dayOfWeekStart-1,W.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},W.data("options",O).on("touchstart mousedown.xdsoft",function(e){return e.stopPropagation(),e.preventDefault(),V.hide(),E.hide(),!1}),L.append(R),L.xdsoftScroller(),W.on("afterOpen.xdsoft",function(){L.xdsoftScroller()}),W.append(z).append(N),O.withoutCopyright!==!0&&W.append(A),z.append(j).append(B).append(q),e(O.parentID).append(W),s=function(){var t=this;t.now=function(e){var n,o,a=new Date;return!e&&O.defaultDate&&(n=t.strToDateTime(O.defaultDate),a.setFullYear(n.getFullYear()),a.setMonth(n.getMonth()),a.setDate(n.getDate())),O.yearOffset&&a.setFullYear(a.getFullYear()+O.yearOffset),!e&&O.defaultTime&&(o=t.strtotime(O.defaultTime),a.setHours(o.getHours()),a.setMinutes(o.getMinutes())),a},t.isValidDate=function(e){return"[object Date]"!==Object.prototype.toString.call(e)?!1:!isNaN(e.getTime())},t.setCurrentTime=function(e){t.currentTime="string"==typeof e?t.strToDateTime(e):t.isValidDate(e)?e:t.now(),W.trigger("xchange.xdsoft")},t.empty=function(){t.currentTime=null},t.getCurrentTime=function(e){return t.currentTime},t.nextMonth=function(){(void 0===t.currentTime||null===t.currentTime)&&(t.currentTime=t.now());var n,o=t.currentTime.getMonth()+1;return 12===o&&(t.currentTime.setFullYear(t.currentTime.getFullYear()+1),o=0),n=t.currentTime.getFullYear(),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),o+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(o),O.onChangeMonth&&e.isFunction(O.onChangeMonth)&&O.onChangeMonth.call(W,P.currentTime,W.data("input")),n!==t.currentTime.getFullYear()&&e.isFunction(O.onChangeYear)&&O.onChangeYear.call(W,P.currentTime,W.data("input")),W.trigger("xchange.xdsoft"),o},t.prevMonth=function(){(void 0===t.currentTime||null===t.currentTime)&&(t.currentTime=t.now());var n=t.currentTime.getMonth()-1;return-1===n&&(t.currentTime.setFullYear(t.currentTime.getFullYear()-1),n=11),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),n+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(n),O.onChangeMonth&&e.isFunction(O.onChangeMonth)&&O.onChangeMonth.call(W,P.currentTime,W.data("input")),W.trigger("xchange.xdsoft"),n},t.getWeekOfYear=function(e){var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+t.getDay()+1)/7)},t.strToDateTime=function(e){var n,a,r=[];return e&&e instanceof Date&&t.isValidDate(e)?e:(r=/^(\+|\-)(.*)$/.exec(e),r&&(r[2]=o.parseDate(r[2],O.formatDate)),r&&r[2]?(n=r[2].getTime()-6e4*r[2].getTimezoneOffset(),a=new Date(t.now(!0).getTime()+parseInt(r[1]+"1",10)*n)):a=e?o.parseDate(e,O.format):t.now(),t.isValidDate(a)||(a=t.now()),a)},t.strToDate=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var n=e?o.parseDate(e,O.formatDate):t.now(!0);return t.isValidDate(n)||(n=t.now(!0)),n},t.strtotime=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var n=e?o.parseDate(e,O.formatTime):t.now(!0);return t.isValidDate(n)||(n=t.now(!0)),n},t.str=function(){return o.formatDate(t.currentTime,O.format)},t.currentTime=this.now()},P=new s,q.on("touchend click",function(e){e.preventDefault(),W.data("changed",!0),P.setCurrentTime(i()),n.val(P.str()),W.trigger("close.xdsoft")}),j.find(".xdsoft_today_button").on("touchend mousedown.xdsoft",function(){W.data("changed",!0),P.setCurrentTime(0),W.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){var e,t,o=P.getCurrentTime();o=new Date(o.getFullYear(),o.getMonth(),o.getDate()),e=P.strToDate(O.minDate),e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),e>o||(t=P.strToDate(O.maxDate),t=new Date(t.getFullYear(),t.getMonth(),t.getDate()),o>t||(n.val(P.str()),n.trigger("change"),W.trigger("close.xdsoft")))}),j.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var t=e(this),n=0,o=!1;!function a(e){t.hasClass(O.next)?P.nextMonth():t.hasClass(O.prev)&&P.prevMonth(),O.monthChangeSpinner&&(o||(n=setTimeout(a,e||100)))}(500),e([document.body,window]).on("touchend mouseup.xdsoft",function r(){clearTimeout(n),o=!0,e([document.body,window]).off("touchend mouseup.xdsoft",r)})}),N.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var t=e(this),n=0,o=!1,a=110;!function r(e){var i=L[0].clientHeight,s=R[0].offsetHeight,d=Math.abs(parseInt(R.css("marginTop"),10));t.hasClass(O.next)&&s-i-O.timeHeightInTimePicker>=d?R.css("marginTop","-"+(d+O.timeHeightInTimePicker)+"px"):t.hasClass(O.prev)&&d-O.timeHeightInTimePicker>=0&&R.css("marginTop","-"+(d-O.timeHeightInTimePicker)+"px"),L.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(R.css("marginTop"),10)/(s-i))]),a=a>10?10:a-10,o||(n=setTimeout(r,e||a))}(500),e([document.body,window]).on("touchend mouseup.xdsoft",function i(){clearTimeout(n),o=!0,e([document.body,window]).off("touchend mouseup.xdsoft",i)})}),Y=0,W.on("xchange.xdsoft",function(t){clearTimeout(Y),Y=setTimeout(function(){(void 0===P.currentTime||null===P.currentTime)&&(P.currentTime=P.now());for(var t,n,i,s,d,l,u,c,f,h,m="",g=new Date(P.currentTime.getFullYear(),P.currentTime.getMonth(),1,12,0,0),p=0,x=P.now(),v=!1,D=!1,y=[],T=!0,w="",b="";g.getDay()!==O.dayOfWeekStart;)g.setDate(g.getDate()-1);for(m+="<table><thead><tr>",O.weeks&&(m+="<th></th>"),t=0;7>t;t+=1)m+="<th>"+O.i18n[r].dayOfWeekShort[(t+O.dayOfWeekStart)%7]+"</th>";for(m+="</tr></thead>",m+="<tbody>",O.maxDate!==!1&&(v=P.strToDate(O.maxDate),v=new Date(v.getFullYear(),v.getMonth(),v.getDate(),23,59,59,999)),O.minDate!==!1&&(D=P.strToDate(O.minDate),D=new Date(D.getFullYear(),D.getMonth(),D.getDate()));p<P.currentTime.countDaysInMonth()||g.getDay()!==O.dayOfWeekStart||P.currentTime.getMonth()===g.getMonth();)y=[],p+=1,i=g.getDay(),s=g.getDate(),d=g.getFullYear(),l=g.getMonth(),u=P.getWeekOfYear(g),h="",y.push("xdsoft_date"),c=O.beforeShowDay&&e.isFunction(O.beforeShowDay.call)?O.beforeShowDay.call(W,g):null,v!==!1&&g>v||D!==!1&&D>g||c&&c[0]===!1?y.push("xdsoft_disabled"):-1!==O.disabledDates.indexOf(o.formatDate(g,O.formatDate))?y.push("xdsoft_disabled"):-1!==O.disabledWeekDays.indexOf(i)&&y.push("xdsoft_disabled"),c&&""!==c[1]&&y.push(c[1]),P.currentTime.getMonth()!==l&&y.push("xdsoft_other_month"),(O.defaultSelect||W.data("changed"))&&o.formatDate(P.currentTime,O.formatDate)===o.formatDate(g,O.formatDate)&&y.push("xdsoft_current"),o.formatDate(x,O.formatDate)===o.formatDate(g,O.formatDate)&&y.push("xdsoft_today"),(0===g.getDay()||6===g.getDay()||-1!==O.weekends.indexOf(o.formatDate(g,O.formatDate)))&&y.push("xdsoft_weekend"),void 0!==O.highlightedDates[o.formatDate(g,O.formatDate)]&&(n=O.highlightedDates[o.formatDate(g,O.formatDate)],y.push(void 0===n.style?"xdsoft_highlighted_default":n.style),h=void 0===n.desc?"":n.desc),O.beforeShowDay&&e.isFunction(O.beforeShowDay)&&y.push(O.beforeShowDay(g)),T&&(m+="<tr>",T=!1,O.weeks&&(m+="<th>"+u+"</th>")),m+='<td data-date="'+s+'" data-month="'+l+'" data-year="'+d+'" class="xdsoft_date xdsoft_day_of_week'+g.getDay()+" "+y.join(" ")+'" title="'+h+'"><div>'+s+"</div></td>",g.getDay()===O.dayOfWeekStartPrev&&(m+="</tr>",T=!0),g.setDate(s+1);if(m+="</tbody></table>",B.html(m),j.find(".xdsoft_label span").eq(0).text(O.i18n[r].months[P.currentTime.getMonth()]),j.find(".xdsoft_label span").eq(1).text(P.currentTime.getFullYear()),w="",b="",l="",f=function(t,n){var a,r,i=P.now(),s=O.allowTimes&&e.isArray(O.allowTimes)&&O.allowTimes.length;i.setHours(t),t=parseInt(i.getHours(),10),i.setMinutes(n),n=parseInt(i.getMinutes(),10),a=new Date(P.currentTime),a.setHours(t),a.setMinutes(n),y=[],(O.minDateTime!==!1&&O.minDateTime>a||O.maxTime!==!1&&P.strtotime(O.maxTime).getTime()<i.getTime()||O.minTime!==!1&&P.strtotime(O.minTime).getTime()>i.getTime())&&y.push("xdsoft_disabled"),(O.minDateTime!==!1&&O.minDateTime>a||O.disabledMinTime!==!1&&i.getTime()>P.strtotime(O.disabledMinTime).getTime()&&O.disabledMaxTime!==!1&&i.getTime()<P.strtotime(O.disabledMaxTime).getTime())&&y.push("xdsoft_disabled"),r=new Date(P.currentTime),r.setHours(parseInt(P.currentTime.getHours(),10)),s||r.setMinutes(Math[O.roundTime](P.currentTime.getMinutes()/O.step)*O.step),(O.initTime||O.defaultSelect||W.data("changed"))&&r.getHours()===parseInt(t,10)&&(!s&&O.step>59||r.getMinutes()===parseInt(n,10))&&(O.defaultSelect||W.data("changed")?y.push("xdsoft_current"):O.initTime&&y.push("xdsoft_init_time")),parseInt(x.getHours(),10)===parseInt(t,10)&&parseInt(x.getMinutes(),10)===parseInt(n,10)&&y.push("xdsoft_today"),w+='<div class="xdsoft_time '+y.join(" ")+'" data-hour="'+t+'" data-minute="'+n+'">'+o.formatDate(i,O.formatTime)+"</div>"},O.allowTimes&&e.isArray(O.allowTimes)&&O.allowTimes.length)for(p=0;p<O.allowTimes.length;p+=1)b=P.strtotime(O.allowTimes[p]).getHours(),l=P.strtotime(O.allowTimes[p]).getMinutes(),f(b,l);else for(p=0,t=0;p<(O.hours12?12:24);p+=1)for(t=0;60>t;t+=O.step)b=(10>p?"0":"")+p,l=(10>t?"0":"")+t,f(b,l);for(R.html(w),a="",p=0,p=parseInt(O.yearStart,10)+O.yearOffset;p<=parseInt(O.yearEnd,10)+O.yearOffset;p+=1)a+='<div class="xdsoft_option '+(P.currentTime.getFullYear()===p?"xdsoft_current":"")+'" data-value="'+p+'">'+p+"</div>";for(V.children().eq(0).html(a),p=parseInt(O.monthStart,10),a="";p<=parseInt(O.monthEnd,10);p+=1)a+='<div class="xdsoft_option '+(P.currentTime.getMonth()===p?"xdsoft_current":"")+'" data-value="'+p+'">'+O.i18n[r].months[p]+"</div>";E.children().eq(0).html(a),e(W).trigger("generate.xdsoft")},10),t.stopPropagation()}).on("afterOpen.xdsoft",function(){if(O.timepicker){var e,t,n,o;R.find(".xdsoft_current").length?e=".xdsoft_current":R.find(".xdsoft_init_time").length&&(e=".xdsoft_init_time"),e?(t=L[0].clientHeight,n=R[0].offsetHeight,o=R.find(e).index()*O.timeHeightInTimePicker+1,o>n-t&&(o=n-t),L.trigger("scroll_element.xdsoft_scroller",[parseInt(o,10)/(n-t)])):L.trigger("scroll_element.xdsoft_scroller",[0])}}),F=0,B.on("touchend click.xdsoft","td",function(t){t.stopPropagation(),F+=1;var o=e(this),a=P.currentTime;return(void 0===a||null===a)&&(P.currentTime=P.now(),a=P.currentTime),o.hasClass("xdsoft_disabled")?!1:(a.setDate(1),a.setFullYear(o.data("year")),a.setMonth(o.data("month")),a.setDate(o.data("date")),W.trigger("select.xdsoft",[a]),n.val(P.str()),O.onSelectDate&&e.isFunction(O.onSelectDate)&&O.onSelectDate.call(W,P.currentTime,W.data("input"),t),W.data("changed",!0),W.trigger("xchange.xdsoft"),W.trigger("changedatetime.xdsoft"),(F>1||O.closeOnDateSelect===!0||O.closeOnDateSelect===!1&&!O.timepicker)&&!O.inline&&W.trigger("close.xdsoft"),void setTimeout(function(){F=0},200))}),R.on("touchend click.xdsoft","div",function(t){t.stopPropagation();var n=e(this),o=P.currentTime;return(void 0===o||null===o)&&(P.currentTime=P.now(),o=P.currentTime),n.hasClass("xdsoft_disabled")?!1:(o.setHours(n.data("hour")),o.setMinutes(n.data("minute")),W.trigger("select.xdsoft",[o]),W.data("input").val(P.str()),O.onSelectTime&&e.isFunction(O.onSelectTime)&&O.onSelectTime.call(W,P.currentTime,W.data("input"),t),W.data("changed",!0),W.trigger("xchange.xdsoft"),W.trigger("changedatetime.xdsoft"),void(O.inline!==!0&&O.closeOnTimeSelect===!0&&W.trigger("close.xdsoft")))}),z.on("mousewheel.xdsoft",function(e){return O.scrollMonth?(e.deltaY<0?P.nextMonth():P.prevMonth(),!1):!0}),n.on("mousewheel.xdsoft",function(e){return O.scrollInput?!O.datepicker&&O.timepicker?(H=R.find(".xdsoft_current").length?R.find(".xdsoft_current").eq(0).index():0,H+e.deltaY>=0&&H+e.deltaY<R.children().length&&(H+=e.deltaY),R.children().eq(H).length&&R.children().eq(H).trigger("mousedown"),!1):O.datepicker&&!O.timepicker?(z.trigger(e,[e.deltaY,e.deltaX,e.deltaY]),
n.val&&n.val(P.str()),W.trigger("changedatetime.xdsoft"),!1):void 0:!0}),W.on("changedatetime.xdsoft",function(t){if(O.onChangeDateTime&&e.isFunction(O.onChangeDateTime)){var n=W.data("input");O.onChangeDateTime.call(W,P.currentTime,n,t),delete O.value,n.trigger("change")}}).on("generate.xdsoft",function(){O.onGenerate&&e.isFunction(O.onGenerate)&&O.onGenerate.call(W,P.currentTime,W.data("input")),G&&(W.trigger("afterOpen.xdsoft"),G=!1)}).on("click.xdsoft",function(e){e.stopPropagation()}),H=0,I=function(){var t,n=W.data("input").offset(),o=W.data("input")[0],a=n.top+o.offsetHeight-1,r=n.left,i="absolute";"rtl"==W.data("input").parent().css("direction")&&(r-=W.outerWidth()-W.data("input").outerWidth()),O.fixed?(a-=e(window).scrollTop(),r-=e(window).scrollLeft(),i="fixed"):(a+o.offsetHeight>e(window).height()+e(window).scrollTop()&&(a=n.top-o.offsetHeight+1),0>a&&(a=0),r+o.offsetWidth>e(window).width()&&(r=e(window).width()-o.offsetWidth)),t=W[0];do if(t=t.parentNode,"relative"===window.getComputedStyle(t).getPropertyValue("position")&&e(window).width()>=t.offsetWidth){r-=(e(window).width()-t.offsetWidth)/2;break}while("HTML"!==t.nodeName);W.css({left:r,top:a,position:i})},W.on("open.xdsoft",function(t){var n=!0;O.onShow&&e.isFunction(O.onShow)&&(n=O.onShow.call(W,P.currentTime,W.data("input"),t)),n!==!1&&(W.show(),I(),e(window).off("resize.xdsoft",I).on("resize.xdsoft",I),O.closeOnWithoutClick&&e([document.body,window]).on("touchstart mousedown.xdsoft",function o(){W.trigger("close.xdsoft"),e([document.body,window]).off("touchstart mousedown.xdsoft",o)}))}).on("close.xdsoft",function(t){var n=!0;j.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),O.onClose&&e.isFunction(O.onClose)&&(n=O.onClose.call(W,P.currentTime,W.data("input"),t)),n===!1||O.opened||O.inline||W.hide(),t.stopPropagation()}).on("toggle.xdsoft",function(e){W.is(":visible")?W.trigger("close.xdsoft"):W.trigger("open.xdsoft")}).data("input",n),U=0,X=0,W.data("xdsoft_datetime",P),W.setOptions(O),P.setCurrentTime(i()),n.data("xdsoft_datetimepicker",W).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function(e){n.is(":disabled")||n.data("xdsoft_datetimepicker").is(":visible")&&O.closeOnInputClick||(clearTimeout(U),U=setTimeout(function(){n.is(":disabled")||(G=!0,P.setCurrentTime(i()),W.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(t){var n,o=(this.value,t.which);return-1!==[m].indexOf(o)&&O.enterLikeTab?(n=e("input:visible,textarea:visible,button:visible,a:visible"),W.trigger("close.xdsoft"),n.eq(n.index(this)+1).focus(),!1):-1!==[T].indexOf(o)?(W.trigger("close.xdsoft"),!0):void 0})},s=function(t){var n=t.data("xdsoft_datetimepicker");n&&(n.data("xdsoft_datetime",null),n.remove(),t.data("xdsoft_datetimepicker",null).off(".xdsoft"),e(window).off("resize.xdsoft"),e([window,document.body]).off("mousedown.xdsoft touchstart"),t.unmousewheel&&t.unmousewheel())},e(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(e){e.keyCode===f&&(C=!0)}).on("keyup.xdsoftctrl",function(e){e.keyCode===f&&(C=!1)}),this.each(function(){var t,n=e(this).data("xdsoft_datetimepicker");if(n){if("string"===e.type(a))switch(a){case"show":e(this).select().focus(),n.trigger("open.xdsoft");break;case"hide":n.trigger("close.xdsoft");break;case"toggle":n.trigger("toggle.xdsoft");break;case"destroy":s(e(this));break;case"reset":this.value=this.defaultValue,this.value&&n.data("xdsoft_datetime").isValidDate(o.parseDate(this.value,O.format))||n.data("changed",!1),n.data("xdsoft_datetime").setCurrentTime(this.value);break;case"validate":t=n.data("input"),t.trigger("blur.xdsoft")}else n.setOptions(a);return 0}"string"!==e.type(a)&&(!O.lazyInit||O.open||O.inline?i(e(this)):F(e(this)))})},e.fn.datetimepicker.defaults=n}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var i=t||window.event,s=d.call(arguments,1),l=0,c=0,f=0,h=0,m=0,g=0;if(t=e.event.fix(i),t.type="mousewheel","detail"in i&&(f=-1*i.detail),"wheelDelta"in i&&(f=i.wheelDelta),"wheelDeltaY"in i&&(f=i.wheelDeltaY),"wheelDeltaX"in i&&(c=-1*i.wheelDeltaX),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(c=-1*f,f=0),l=0===f?c:f,"deltaY"in i&&(f=-1*i.deltaY,l=f),"deltaX"in i&&(c=i.deltaX,0===f&&(l=-1*c)),0!==f||0!==c){if(1===i.deltaMode){var p=e.data(this,"mousewheel-line-height");l*=p,f*=p,c*=p}else if(2===i.deltaMode){var x=e.data(this,"mousewheel-page-height");l*=x,f*=x,c*=x}if(h=Math.max(Math.abs(f),Math.abs(c)),(!r||r>h)&&(r=h,o(i,h)&&(r/=40)),o(i,h)&&(l/=40,c/=40,f/=40),l=Math[l>=1?"floor":"ceil"](l/r),c=Math[c>=1?"floor":"ceil"](c/r),f=Math[f>=1?"floor":"ceil"](f/r),u.settings.normalizeOffset&&this.getBoundingClientRect){var v=this.getBoundingClientRect();m=t.clientX-v.left,g=t.clientY-v.top}return t.deltaX=c,t.deltaY=f,t.deltaFactor=r,t.offsetX=m,t.offsetY=g,t.deltaMode=0,s.unshift(t,l,c,f),a&&clearTimeout(a),a=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){r=null}function o(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var a,r,i=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],d=Array.prototype.slice;if(e.event.fixHooks)for(var l=i.length;l;)e.event.fixHooks[i[--l]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),o=n["offsetParent"in e.fn?"offsetParent":"parent"]();return o.length||(o=e("body")),parseInt(o.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})});